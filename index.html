<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NEON SOUL // DECRYPTOR</title>
    <style>
        :root { --main: #ff00ff; --cyber: #00f2ff; --bg: #050508; }
        body { background: var(--bg); color: white; margin: 0; font-family: 'Courier New', monospace; overflow: hidden; }
        
        /* Anime UI Overlay */
        #ui-container { position: absolute; inset: 0; pointer-events: none; z-index: 10; border: 20px solid transparent; transition: 0.5s; }
        .corner-ui { position: absolute; width: 150px; height: 150px; border: 2px solid var(--cyber); }
        .top-left { top: 20px; left: 20px; border-right: none; border-bottom: none; }
        .bottom-right { bottom: 20px; right: 20px; border-left: none; border-top: none; }

        /* Character Portrait */
        #avatar-box {
            position: absolute; bottom: 0; left: 50px; width: 300px; height: 400px;
            background: linear-gradient(to top, var(--main), transparent);
            clip-path: polygon(0 0, 100% 20%, 100% 100%, 0% 100%);
            display: flex; align-items: flex-end; justify-content: center;
            transition: 0.5s; transform: translateY(100%);
        }
        #avatar-box.active { transform: translateY(0); }
        .avatar-text { font-size: 80px; filter: drop-shadow(0 0 10px white); }

        /* Dialogue */
        #dialogue {
            position: absolute; bottom: 40px; right: 50px; width: 500px;
            background: rgba(0,0,0,0.9); border-left: 5px solid var(--main);
            padding: 20px; display: none; pointer-events: all;
        }

        canvas { display: block; filter: saturate(1.5) contrast(1.2); }
    </style>
</head>
<body>

    <div id="ui-container">
        <div class="corner-ui top-left"></div>
        <div class="corner-ui bottom-right"></div>
        
        <div class="hud" style="padding: 40px;">
            <div style="color: var(--cyber); font-size: 24px; font-weight: bold;">LINK_SYNC: 98%</div>
            <div id="score-display">DATA: 0000</div>
        </div>

        <div id="avatar-box">
            <span class="avatar-text">üë©‚Äçüé§</span> </div>

        <div id="dialogue">
            <div style="color: var(--main); font-weight: bold;">AI_CHANNEL // HARU</div>
            <div id="text-content">"Listen up! The firewall is closing in. Don't touch the red sectors!"</div>
            <button onclick="startGame()" style="margin-top:10px; background:var(--main); border:none; color:white; padding:5px 15px; cursor:pointer;">CONNECT</button>
        </div>
    </div>

    <canvas id="gameCanvas"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let player = { x: canvas.width/2, y: canvas.height/2, size: 8, vx: 0, vy: 0 };
let enemies = [];
let frames = 0;
let score = 0;
let active = false;

// Show Anime Intro
setTimeout(() => {
    document.getElementById('avatar-box').classList.add('active');
    document.getElementById('dialogue').style.display = 'block';
}, 500);

function startGame() {
    document.getElementById('dialogue').style.display = 'none';
    active = true;
    spawnEnemy();
}

function spawnEnemy() {
    if(!active) return;
    enemies.push({
        x: Math.random() * canvas.width,
        y: -20,
        speed: 3 + Math.random() * 5
    });
    setTimeout(spawnEnemy, 1000 - (score * 5));
}

function update() {
    if(!active) return;

    // Movement (Mouse follow for that smooth anime "Slash" feel)
    window.onmousemove = (e) => {
        player.x += (e.clientX - player.x) * 0.1;
        player.y += (e.clientY - player.y) * 0.1;
    };

    enemies.forEach((en, i) => {
        en.y += en.speed;
        if(en.y > canvas.height) {
            enemies.splice(i, 1);
            score += 10;
            document.getElementById('score-display').innerText = "DATA: " + score.toString().padStart(4, '0');
        }

        // Collision
        let d = Math.hypot(player.x - en.x, player.y - en.y);
        if(d < 15) location.reload();
    });
}

function draw() {
    // Cyberpunk Grid Background
    ctx.fillStyle = "#050508";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    
    ctx.strokeStyle = "#111";
    for(let i=0; i<canvas.width; i+=40) {
        ctx.beginPath(); ctx.moveTo(i, 0); ctx.lineTo(i, canvas.height); ctx.stroke();
    }

    // Draw Player (Neon Trail)
    ctx.shadowBlur = 20;
    ctx.shadowColor = "#ff00ff";
    ctx.fillStyle = "#fff";
    ctx.fillRect(player.x-5, player.y-5, 10, 10);

    // Draw Enemies (Falling Glitches)
    ctx.shadowColor = "#00f2ff";
    ctx.fillStyle = "#00f2ff";
    enemies.forEach(en => {
        ctx.fillRect(en.x, en.y, 4, 20);
    });
    
    ctx.shadowBlur = 0;
}

function loop() {
    update();
    draw();
    requestAnimationFrame(loop);
}

loop();
</script>
</body>
</html>
